
<!--<title data-bind="this.tasks.length+' tasks'" data-update="this.tasks.length"></title>-->

<script>
    properties.tasks = [
        { text: "buy fruits" },
        { text: "never forget", striked: true }
    ];
</script>

<h1>Todo list</h1>
<ul data-for-each="task" data-for-index="index" data-for-in="this.tasks" data-update="this.tasks.length|this.tasks">
    <li>
        <input type="checkbox" data-model="this.task.striked" />
        <span contenteditable data-model="this.task.text" data-bind-class="'task'+(this.task.striked?' completed':'')" data-update="this.task.striked"></span>
        <button data-on-click="this.tasks.splice(this.tasks.indexOf(this.task),1);">Delete</button>
    </li>
</ul>
<span data-bind-style="this.tasks.length>5?'color:red':''" data-update="this.tasks.length">
    <span data-bind="this.tasks.length" data-update=""></span> items
</span>
<br />
<button data-on-click="this.tasks.push({text:''})">Add</button>

<style>
    .task {
        display: inline-block;
        min-width: 100px;
        border-bottom: dotted black 1px;
    }
    .completed {
        text-decoration: line-through;
    }
</style>